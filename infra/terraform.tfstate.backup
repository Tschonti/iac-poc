{
  "version": 4,
  "terraform_version": "1.7.4",
  "serial": 10,
  "lineage": "5e6c71a6-d321-40a7-b21b-6fddac8f2edc",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "azurerm_api_management",
      "name": "apim",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "additional_location": [],
            "certificate": [],
            "client_certificate_enabled": false,
            "delegation": [],
            "developer_portal_url": "",
            "gateway_disabled": false,
            "gateway_regional_url": "",
            "gateway_url": "https://wikimedia-tf.azure-api.net",
            "hostname_configuration": [
              {
                "developer_portal": [],
                "management": [],
                "portal": [],
                "proxy": [
                  {
                    "certificate": "",
                    "certificate_password": "",
                    "certificate_source": "BuiltIn",
                    "certificate_status": "",
                    "default_ssl_binding": true,
                    "expiry": "",
                    "host_name": "wikimedia-tf.azure-api.net",
                    "key_vault_id": "",
                    "negotiate_client_certificate": false,
                    "ssl_keyvault_identity_client_id": "",
                    "subject": "",
                    "thumbprint": ""
                  }
                ],
                "scm": []
              }
            ],
            "id": "/subscriptions/34614f5b-599b-4bbb-8090-86956b716362/resourceGroups/terraform-poc/providers/Microsoft.ApiManagement/service/wikimedia-tf",
            "identity": [],
            "location": "westeurope",
            "management_api_url": "",
            "min_api_version": "",
            "name": "wikimedia-tf",
            "notification_sender_email": "apimgmt-noreply@mail.windowsazure.com",
            "policy": [
              {
                "xml_content": "\u003c!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the \u003cinbound\u003e, \u003coutbound\u003e, \u003cbackend\u003e section elements.\r\n    - Only the \u003cforward-request\u003e policy element can appear within the \u003cbackend\u003e section element.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the \u003cinbound\u003e section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the \u003coutbound\u003e section element.\r\n    - To add a policy position the cursor at the desired insertion point and click on the round button associated with the policy.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n--\u003e\r\n\u003cpolicies\u003e\r\n\t\u003cinbound\u003e\u003c/inbound\u003e\r\n\t\u003cbackend\u003e\r\n\t\t\u003cforward-request /\u003e\r\n\t\u003c/backend\u003e\r\n\t\u003coutbound\u003e\u003c/outbound\u003e\r\n\u003c/policies\u003e",
                "xml_link": ""
              }
            ],
            "portal_url": "",
            "private_ip_addresses": [],
            "protocols": [
              {
                "enable_http2": false
              }
            ],
            "public_ip_address_id": "",
            "public_ip_addresses": [],
            "public_network_access_enabled": true,
            "publisher_email": "feketesamu@gmail.com",
            "publisher_name": "Fekete SÃ¡muel",
            "resource_group_name": "terraform-poc",
            "scm_url": "",
            "security": [
              {
                "enable_backend_ssl30": false,
                "enable_backend_tls10": false,
                "enable_backend_tls11": false,
                "enable_frontend_ssl30": false,
                "enable_frontend_tls10": false,
                "enable_frontend_tls11": false,
                "tls_ecdhe_ecdsa_with_aes128_cbc_sha_ciphers_enabled": false,
                "tls_ecdhe_ecdsa_with_aes256_cbc_sha_ciphers_enabled": false,
                "tls_ecdhe_rsa_with_aes128_cbc_sha_ciphers_enabled": false,
                "tls_ecdhe_rsa_with_aes256_cbc_sha_ciphers_enabled": false,
                "tls_rsa_with_aes128_cbc_sha256_ciphers_enabled": false,
                "tls_rsa_with_aes128_cbc_sha_ciphers_enabled": false,
                "tls_rsa_with_aes128_gcm_sha256_ciphers_enabled": false,
                "tls_rsa_with_aes256_cbc_sha256_ciphers_enabled": false,
                "tls_rsa_with_aes256_cbc_sha_ciphers_enabled": false,
                "tls_rsa_with_aes256_gcm_sha384_ciphers_enabled": false,
                "triple_des_ciphers_enabled": false
              }
            ],
            "sign_in": [],
            "sign_up": [],
            "sku_name": "Consumption_0",
            "tags": {},
            "tenant_access": [],
            "timeouts": null,
            "virtual_network_configuration": [],
            "virtual_network_type": "None",
            "zones": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMDgwMDAwMDAwMDAwMCwiZGVsZXRlIjoxMDgwMDAwMDAwMDAwMCwicmVhZCI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEwODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.tf-rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_api_management_api",
      "name": "wm-api",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "api_management_name": "wikimedia-tf",
            "api_type": "http",
            "contact": [],
            "description": "",
            "display_name": "On this day API",
            "id": "/subscriptions/34614f5b-599b-4bbb-8090-86956b716362/resourceGroups/terraform-poc/providers/Microsoft.ApiManagement/service/wikimedia-tf/apis/onthisday-api;rev=1",
            "import": [],
            "is_current": true,
            "is_online": false,
            "license": [],
            "name": "onthisday-api",
            "oauth2_authorization": [],
            "openid_authentication": [],
            "path": "selected",
            "protocols": [
              "https"
            ],
            "resource_group_name": "terraform-poc",
            "revision": "1",
            "revision_description": "",
            "service_url": "https://api.wikimedia.org/feed/v1/wikipedia/en/onthisday/",
            "soap_pass_through": false,
            "source_api_id": null,
            "subscription_key_parameter_names": [
              {
                "header": "Ocp-Apim-Subscription-Key",
                "query": "subscription-key"
              }
            ],
            "subscription_required": false,
            "terms_of_service_url": "",
            "timeouts": null,
            "version": "",
            "version_description": "",
            "version_set_id": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_api_management.apim",
            "azurerm_resource_group.tf-rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_api_management_api_operation",
      "name": "get-onthisday",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_management_name": "wikimedia-tf",
            "api_name": "onthisday-api",
            "description": "",
            "display_name": "Get event on this day",
            "id": "/subscriptions/34614f5b-599b-4bbb-8090-86956b716362/resourceGroups/terraform-poc/providers/Microsoft.ApiManagement/service/wikimedia-tf/apis/onthisday-api/operations/get-onthisday",
            "method": "GET",
            "operation_id": "get-onthisday",
            "request": [
              {
                "description": "",
                "header": [],
                "query_parameter": [],
                "representation": []
              }
            ],
            "resource_group_name": "terraform-poc",
            "response": [
              {
                "description": "",
                "header": [],
                "representation": [],
                "status_code": 200
              }
            ],
            "template_parameter": [
              {
                "default_value": "",
                "description": "",
                "example": [],
                "name": "month",
                "required": true,
                "schema_id": "",
                "type": "string",
                "type_name": "",
                "values": []
              },
              {
                "default_value": "",
                "description": "",
                "example": [],
                "name": "day",
                "required": true,
                "schema_id": "",
                "type": "string",
                "type_name": "",
                "values": []
              }
            ],
            "timeouts": null,
            "url_template": "/selected/{month}/{day}"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_api_management.apim",
            "azurerm_api_management_api.wm-api",
            "azurerm_resource_group.tf-rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_api_management_api_operation_policy",
      "name": "onthisday-policy",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "api_management_name": "wikimedia-tf",
            "api_name": "onthisday-api",
            "id": "/subscriptions/34614f5b-599b-4bbb-8090-86956b716362/resourceGroups/terraform-poc/providers/Microsoft.ApiManagement/service/wikimedia-tf/apis/onthisday-api/operations/get-onthisday",
            "operation_id": "get-onthisday",
            "resource_group_name": "terraform-poc",
            "timeouts": null,
            "xml_content": "\u003cpolicies\u003e\r\n\t\u003cinbound\u003e\r\n\t\t\u003cbase /\u003e\r\n\t\u003c/inbound\u003e\r\n\t\u003cbackend\u003e\r\n\t\t\u003cbase /\u003e\r\n\t\u003c/backend\u003e\r\n\t\u003coutbound\u003e\r\n\t\t\u003cbase /\u003e\r\n\t\t\u003cchoose\u003e\r\n\t\t\t\u003cwhen condition=\"@(context.Response.StatusCode == 200)\"\u003e\r\n\t\t\t\t\u003cset-body\u003e@{\r\n                            var responseBody = context.Response.Body.As\u003cJObject\u003e();\r\n                            var selectedArray = responseBody[\"selected\"] as JArray;\r\n                            var first = selectedArray.First() as JObject;\r\n                            var newResponse = new JObject(new JProperty(\"event\", first[\"text\"]));\r\n                            return newResponse.ToString();\r\n                        }\u003c/set-body\u003e\r\n\t\t\t\u003c/when\u003e\r\n\t\t\u003c/choose\u003e\r\n\t\u003c/outbound\u003e\r\n\t\u003con-error\u003e\r\n\t\t\u003cbase /\u003e\r\n\t\u003c/on-error\u003e\r\n\u003c/policies\u003e",
            "xml_link": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_api_management.apim",
            "azurerm_api_management_api.wm-api",
            "azurerm_api_management_api_operation.get-onthisday",
            "azurerm_resource_group.tf-rg"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "tf-rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/34614f5b-599b-4bbb-8090-86956b716362/resourceGroups/terraform-poc",
            "location": "westeurope",
            "managed_by": "",
            "name": "terraform-poc",
            "tags": {},
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_static_web_app",
      "name": "spa",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key": "f282799cecd218da8250aa1e5d154ddfa0e9ae7003f59e8be171b51938b81af15-c5e8075b-9ca9-484e-abd8-e2f67ca29eb7003397662",
            "app_settings": null,
            "basic_auth": [],
            "configuration_file_changes_enabled": true,
            "default_host_name": "gentle-coast-0f2f33603.5.azurestaticapps.net",
            "id": "/subscriptions/34614f5b-599b-4bbb-8090-86956b716362/resourceGroups/terraform-poc/providers/Microsoft.Web/staticSites/tf-spa",
            "identity": [],
            "location": "westeurope",
            "name": "tf-spa",
            "preview_environments_enabled": true,
            "resource_group_name": "terraform-poc",
            "sku_size": "Free",
            "sku_tier": "Free",
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_resource_group.tf-rg"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
